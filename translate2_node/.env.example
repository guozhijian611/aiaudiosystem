# Translate2 Node 环境变量配置
# 基于 Whisper-Diarization 的音频转文本服务

# RabbitMQ配置
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=admin
RABBITMQ_PASSWORD=admin
RABBITMQ_VIRTUAL_HOST=/

# 队列名称 - 与原始translate_node使用同一个队列
QUEUE_NAME=transcribe_queue

# 后端API配置
API_BASE_URL=http://localhost:8787
API_UPLOAD_ENDPOINT=/queue/upload
API_CALLBACK_ENDPOINT=/queue/callback

# 工作目录配置
WORK_DIR=./work
TEMP_DIR=./temp
LOG_LEVEL=INFO

# Whisper-Diarization转写配置
WHISPER_MODEL=large-v3
WHISPER_LANGUAGE=auto
WHISPER_DEVICE=auto
WHISPER_BATCH_SIZE=16
WHISPER_COMPUTE_TYPE=auto

# 说话人分离配置（Whisper-Diarization增强版）
ENABLE_DIARIZATION=true
DIARIZATION_MODEL=pyannote/speaker-diarization-3.1
HF_TOKEN=your_huggingface_token_here
MIN_SPEAKERS=1
MAX_SPEAKERS=10

# VAD配置（语音活动检测）
ENABLE_VAD=true
VAD_THRESHOLD=0.5
VAD_MIN_SPEECH_DURATION=0.5
VAD_MAX_SPEECH_DURATION=30.0

# TitaNet嵌入配置
ENABLE_TITANET=true
TITANET_MODEL=titanet-l

# 语言对齐配置
ENABLE_ALIGNMENT=true
ALIGNMENT_MODEL=WAV2VEC2_ASR_LARGE_LV60K_960H

# 处理限制配置
MAX_AUDIO_DURATION=3600
PROCESSING_TIMEOUT=7200
CHUNK_DURATION=600

# 输出格式配置
OUTPUT_FORMAT=json
INCLUDE_TIMESTAMPS=true
INCLUDE_CONFIDENCE=true

# 模型缓存配置
MODEL_CACHE_DIR=./models
DISABLE_UPDATE=true

# 队列配置
QUEUE_TTL=3600000
QUEUE_DURABLE=true

# 其他配置
MAX_WORKERS=1
DOWNLOAD_TIMEOUT=300

# Whisper-Diarization路径配置
WHISPER_DIARIZATION_PATH=./whisper-diarization 